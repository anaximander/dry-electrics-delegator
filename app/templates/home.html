{% extends "base.html" %}

{% block header %}
  <title>Dry Electrics Delegator - Home</title>
  <script>
    //setTimeout(() => (window.location = window.location), 60 * 1000);
    const keyNumber = 33919128 * 4;
    const keyword = keyNumber.toString(26);
    let entry = '';
    document.addEventListener('keydown', (event) => {
      entry += event.key;
      if (entry == keyword) {
        console.log('WINNER WINNER CHICKEN DINNER');
        document.getElementsByTagName('body')[0].setAttribute('style', 'background-image: url(static/special.png)');
      }
    } );
  </script>
{% endblock %}

{% block content %}
<body>
  <center>
  <h1>Dry Electrics Delegator</h1>
  <table border="1">
    <tr>
      <th>User</th>
      <th>Percentage</th>
      <th>Charging</th>
      <th>Updated At</th>
    </tr>
    {% for row in rows %}
      <tr style="background-color: {{row[0]}};">
        <td><a href="users/{{ row[1] }}">{{ row[1] }}</a></td>
        <td>{{ row[2] }}%</td>
        <td>{{ row[3] }}</td>
        <td>{{ row[4] }}</td>
      </tr>
    {% endfor %}
  </table>
  </center>
</body>
{% endblock %}
